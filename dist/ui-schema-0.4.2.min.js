/*! UI Schema v0.4.2 | (c) 2016 Arxitics | MIT license */
if("undefined"==typeof jQuery)throw new Error("jQuery has not been loaded yet for context");var schema=jQuery.isPlainObject(schema)?schema:{};!function(e){"use strict";schema=e.extend(!0,{setup:{classPrefix:"ui",dataPrefix:"schema",autoLoad:!0,autoBind:".schema",autoTrigger:".schema"},events:{retrieve:{type:"retrieve",namespace:".options.data-api.schema",selector:"[data-schema-options]"},validate:{type:"validate",namespace:".form.data-api.schema",selector:"form[data-schema-validate]"},lazyload:{type:"load",namespace:".image.data-api.schema",selector:"img[data-schema-lazyload]"},sprite:{type:"create",namespace:".icon.svg.data-api.schema",selector:"i[data-schema-icon]"},trim:{type:"remove",namespace:".text-node.dom.data-api.schema",selector:"body [data-schema-trim]"},extract:{type:"create",namespace:".dom.data-api.schema",selector:"body [data-schema-extract]"},dismiss:{type:"remove",namespace:".dom.data-api.schema",selector:"body [data-schema-dismiss]"},autoplay:{type:"animate",namespace:".dom.data-api.schema",selector:"[data-schema-autoplay]"},toggle:{type:"toggle",namespace:".class.data-api.schema",selector:"[data-schema-toggle]"}}},schema),e(function(){schema.setup.autoLoad&&schema.load&&schema.load()})}(jQuery),function(e){"use strict";schema.create=function(a){return this.setup=e.extend({},schema.setup,a),Object.create(schema)},schema.load=function(a){var t=e.extend({},schema.events,a);for(var r in t)if(t.hasOwnProperty(r)){var s=schema[r],c=t[r],n=c.delegation;if(void 0===n&&(n=schema.delegate(c),c.delegation=n),n>1){var i=c.type+c.namespace;e(document).on(i,s),n>2&&e(document).trigger(i,c.options||{})}}},schema.delegate=function(e){var a=schema.setup,t=a.autoBind.split(" "),r=a.autoTrigger.split(" "),s=e.type+e.namespace,c=s.replace(/^\./,"").split("."),n=t.some(function(e){var a=e.replace(/^\./,"").split(".");return a.every(function(e){return-1!==c.indexOf(e)})})?2:0;return n+=r.some(function(e){var a=e.replace(/^\./,"").split(".");return a.every(function(e){return-1!==c.indexOf(e)})})?1:0},schema.retrieve=function(a,t){var r=schema.events.retrieve.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=schema.parseOptions(t.options);for(var s in r)r.hasOwnProperty(s)&&a.data(s,r[s])})},schema.parseData=function(e){var a={},t=schema.setup.dataPrefix,r=t&&t.length||0;for(var s in e)if(e.hasOwnProperty(s)){var c=s.slice(r),n=e[s];c=c.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),a[c]=""===n?!0:n}return a},schema.parseOptions=function(e){var a={},t={},r=schema.setup.dataPrefix,s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s)t=e;else if("String"===s)try{t=JSON.parse(e)}catch(c){-1!==e.indexOf(":")&&(e=e.trim().replace(/\s*;$/,""),e.split(/\s*;\s*/).forEach(function(e){var a=e.split(/\s*:\s*/),r=a[0].toLowerCase(),s=a[1].replace(/\,/g," ").trim();-1!==s.search(/\s+/)&&(s=s.split(/\s+/)),t[r]=s}))}r&&r.length&&(r+="-");for(var n in t)if(t.hasOwnProperty(n)){var i=r+n;i=i.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),a[i]=t[n]}return a}}(jQuery),function(e){"use strict";schema.validate=function(a,t){var r=schema.events.validate.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=t.validate;a.find(":input").one("change",function(){a.data("changed",!0)}),a.on("submit",function(t){var s=e(this),c="changed"===r?s.data("changed"):!0;c?(s.find("input, textarea").each(function(){var a=e(this),t=a.val().toString().trim();""===t&&a.prop("disabled",!0).data("disabled",!0)}),"once"===r&&a.find(":submit").prop("disabled",!0),s.submit()):void 0===c&&history.back(),t.preventDefault()}),a.on("reset",function(a){var t=e(this);return t.find("input, textarea").each(function(){var a=e(this);a.data("disabled")&&a.prop("disabled",!1).data("disabled",!1)}),!0})})}}(jQuery),function(e){"use strict";schema.lazyload=function(a,t){var r=schema.events.lazyload.selector,s=e(r).add(t&&t.selector),c=e(window).height();e(window).on("scroll",function(){var a=e(window).scrollTop();s.each(function(){var t=e(this),r=schema.parseData(t.data()),s=r.src||t.attr("srcset");if(s!==t.attr("src")){var n=+r.lazyload-1||200,i=t.offset().top-c-a;if(n>i){var o=+r.delay-1||0;window.setTimeout(function(){t.attr("src",s)},o)}}})}),e(window).scroll()}}(jQuery),function(e){"use strict";schema.trim=function(a,t){var r=schema.events.trim.selector,s=e(r).add(t&&t.selector);s.contents().filter(function(){return 3===this.nodeType}).remove()},schema.toggle=function(a,t){var r=schema.events.toggle.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=e(t.toggle),s=schema.parseData(r.data()).toggler,c=t.trigger||"click";a.on(c,function(){r.toggleClass(s)})})},schema.autoplay=function(a,t){var r=schema.events.autoplay.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=a.children("input[type=radio]"),s=a.find("div").last(),c=s.find("label").first().attr("class"),n=+t.autoplay-1||5e3,i=r.length,o=1;window.setInterval(function(){var e=r.eq(o%i),a=e.attr("id");a&&(s.find('label[class="'+c+'"]').removeClass(c),s.find('label[for="'+a+'"]').addClass(c)),e.prop("checked",!0),o++},n)})},schema.dismiss=function(a,t){var r=schema.events.dismiss.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=+t.dismiss-1||0;a.one("click",function(){a.parent().remove()}),r>0&&window.setTimeout(function(){a.click()},r)})},schema.extract=function(a,t){var r=schema.events.extract.selector,s=e(r).add(t&&t.selector);s.each(function(){var a=e(this),t=schema.parseData(a.data()),r=t.extract.split(/\s*\,\s*/);if(-1!==r.indexOf("url")){var s=/\b(https?|ftp)\:\/\/[^\s\"]+(\/|\b)/g;a.html(a.html().replace(s,function(e){return schema.format('<a href="${href}">${href}</a>',{href:e})}))}if(-1!==r.indexOf("emoji")&&t.emoji){var c=/(^|[^\w\"\'\`])(\:([\w\-]+)\:)/g;a.html(a.html().replace(c,function(e,r,s,c){var n='${sep}<img src="${src}" height=${height} alt="${alt}" title="${title}" />';return schema.format(n,{sep:r,src:t.emoji.replace(/\/*$/,"/")+c.replace(/\_/g,"-")+".svg",height:Math.round(1.2*+a.css("font-size").slice(0,-2)),alt:s,title:c})}))}})},schema.format=function(e,a){var t=String(e),r=Object.prototype.toString.call(a).slice(8,-1);return"Object"===r&&t.match(/\$\{[^\{\}]+\}/g).forEach(function(e,r){var s=e.replace(/^\$\{\s*(.+)\s*\}$/,"$1");a.hasOwnProperty(s)&&(t=t.replace(e,function(){return a[s]}))}),t},schema.parseURL=function(e){var a=document.createElement("a");return a.href=e.replace(/([^:])\/{2,}/g,"$1/").replace(/\+/g," "),{href:a.href,origin:a.origin,protocol:a.protocol,username:a.username,password:a.password,host:a.host,hostname:a.hostname,port:a.port,path:a.pathname+a.search,pathname:a.pathname,segments:a.pathname.replace(/^\/+/,"").split("/"),search:a.search,query:function(){var e={},t=a.search.replace(/(^\?&?)|(&$)/g,"");return-1===t.indexOf("=")?t:(t.split(/&+/).forEach(function(a){var t=decodeURIComponent(a).split("="),r=t[0],s=t[1];e.hasOwnProperty(r)&&(s=[].concat(e[r],s)),e[r]=s}),e)}(),hash:a.hash,fragment:a.hash.replace(/^#/,"")}}}(jQuery),function(e){"use strict";schema.sprite=function(a,t){var r=schema.icons,s=schema.events.sprite.selector,c=e(s).add(t&&t.selector);c.each(function(){var a=e(this),t=schema.parseData(a.data()),s=t.icon||"unknown",c=r[s]||r.unknown;"string"==typeof c&&(c=r[c]);var n=t.width||c[0],i=t.height||c[1],o=t.path||c[2],h=t.color||c[3],l=t.colorEnabled;void 0===l&&h&&(l=!0);var d="http://www.w3.org/2000/svg",p=document.createElementNS(d,"svg");if(p.setAttribute("width",n),p.setAttribute("height",i),p.setAttribute("viewBox","0 0 "+n+" "+i),Array.isArray(o))o.forEach(function(e,a){var t=document.createElementNS(d,"path");l&&h&&t.setAttribute("fill",Array.isArray(h)?h[a]:h),t.setAttribute("d",e),p.appendChild(t)});else{var m=document.createElementNS(d,"path");l&&h&&m.setAttribute("fill",h),m.setAttribute("d",o),p.appendChild(m)}a.empty().append(p)})},schema.icons={unknown:[32,32,"M1 1h31v31h-31zM3 3v27h27v-27z"]}}(jQuery);