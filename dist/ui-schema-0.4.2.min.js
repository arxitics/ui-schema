/*! UI Schema v0.4.2 | (c) 2016 Arxitics | MIT license */
if("undefined"==typeof jQuery)throw new Error("jQuery has not been loaded yet for context");var schema=jQuery.isPlainObject(schema)?schema:{};!function(e){"use strict";schema=e.extend(!0,{setup:{classPrefix:"ui",dataPrefix:"schema",autoLoad:!0,autoBind:".schema",autoTrigger:".schema"},events:{bind:{type:"bind",namespace:"event.data-api.schema",selector:"[data-schema-event]"},retrieve:{type:"retrieve",namespace:"options.data-api.schema",selector:"[data-schema-options]"},validate:{type:"validate",namespace:"form.data-api.schema",selector:"form[data-schema-validate]"},lazyload:{type:"lazyload",namespace:"image.data-api.schema",selector:"img[data-schema-lazyload]"},sprite:{type:"sprite",namespace:"icon.svg.data-api.schema",selector:"i[data-schema-icon]"},trim:{type:"trim",namespace:"text-node.dom.data-api.schema",selector:"body [data-schema-trim]"},extract:{type:"extract",namespace:"dom.data-api.schema",selector:"body [data-schema-extract]"},dismiss:{type:"dismiss",namespace:"dom.data-api.schema",selector:"body [data-schema-dismiss]"},autoplay:{type:"autoplay",namespace:"dom.data-api.schema",selector:"[data-schema-autoplay]"},toggle:{type:"toggle",namespace:"class.data-api.schema",selector:"[data-schema-toggle]"}}},schema),e(function(){schema.setup.autoLoad&&schema.load&&schema.load()})}(jQuery),function(e){"use strict";schema.create=function(t){return this.setup=e.extend({},schema.setup,t),Object.create(schema)},schema.load=function(t){var a=e.extend({},schema.events,t);for(var r in a)a.hasOwnProperty(r)&&schema.delegate(a[r],t)},schema.delegate=function(t,a){var r=t.type,s=r+t.namespace,c=t.delegation;if("number"!=typeof c){var n=a&&a.setup||schema.setup,i=n.autoBind.split(" "),o=n.autoTrigger.split(" "),h=s.replace(/^\./,"").split(".");c=i.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==h.indexOf(e)})})?2:0,c+=o.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==h.indexOf(e)})})?1:0,t.delegation=c}if(c>1){var l=schema[r]||function(){};e(document).on(s,l),c>2&&e(document).trigger(s,t.options)}},schema.parseData=function(e,t){var a={},r=t&&t.prefix||schema.setup.dataPrefix,s=r&&r.length||0;for(var c in e)if(e.hasOwnProperty(c)){var n=c.slice(s),i=e[c];n=n.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),a[n]=""===i?!0:i}return a},schema.parseOptions=function(e,t){var a={},r={},s=t&&t.prefix||"",c=Object.prototype.toString.call(e).slice(8,-1);if("Object"===c)r=e;else if("String"===c)try{r=JSON.parse(e)}catch(n){if(-1!==e.indexOf(":")){var i=e.trim().replace(/\s*;$/,"").split(/\s*;\s*/),o=/(\S+)\s*:\s*(.*)/;i.filter(function(e){return o.test(e)}).forEach(function(e){var t=e.match(o),a=t[1].toLowerCase(),s=t[2].replace(/\,/g," ").trim();-1!==s.search(/\s+/)&&(s=s.split(/\s+/)),r[a]=s})}}s&&s.length&&(s+="-");for(var h in r)if(r.hasOwnProperty(h)){var l=s+h;l=l.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),a[l]=r[h]}return a},schema.bind=function(t,a){var r=schema.events.bind,s=r.selector,c=e(s).add(a&&a.selector);c.each(function(){var t=e(this),a=schema.parseData(t.data()),c=schema.parseOptions(a.options),n=a.event;if(n){var i={type:n,selector:s.replace(/\-(\w+)\]$/,"-"+n+"]"),target:t},o=e.extend({},r,i,a,c);schema.events[n]=o,schema.delegate(o)}})},schema.retrieve=function(t,a){var r=schema.events.retrieve.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=schema.parseOptions(a.options,{prefix:schema.setup.dataPrefix});for(var s in r)r.hasOwnProperty(s)&&t.data(s,r[s])})}}(jQuery),function(e){"use strict";schema.validate=function(t,a){var r=schema.events.validate.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=a.validate;t.find(":input").one("change",function(){t.data("changed",!0)}),t.on("submit",function(a){var s=e(this),c="changed"===r?s.data("changed"):!0;c?(s.find("input, textarea").each(function(){var t=e(this),a=t.val().toString().trim();""===a&&t.prop("disabled",!0).data("disabled",!0)}),"once"===r&&t.find(":submit").prop("disabled",!0),s.submit()):void 0===c&&history.back(),a.preventDefault()}),t.on("reset",function(t){var a=e(this);return a.find("input, textarea").each(function(){var t=e(this);t.data("disabled")&&t.prop("disabled",!1).data("disabled",!1)}),!0})})}}(jQuery),function(e){"use strict";schema.lazyload=function(t,a){var r=schema.events.lazyload.selector,s=e(r).add(a&&a.selector),c=e(window).height();e(window).on("scroll",function(){var t=e(window).scrollTop();s.each(function(){var a=e(this),r=schema.parseData(a.data()),s=r.src||a.attr("srcset");if(s!==a.attr("src")){var n=+r.lazyload-1||200,i=a.offset().top-c-t;if(n>i){var o=+r.delay-1||0;window.setTimeout(function(){a.attr("src",s)},o)}}})}),e(window).scroll()}}(jQuery),function(e){"use strict";schema.trim=function(t,a){var r=schema.events.trim.selector,s=e(r).add(a&&a.selector);s.contents().filter(function(){return 3===this.nodeType}).remove()},schema.toggle=function(t,a){var r=schema.events.toggle.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=a.toggle,s=e(r),c=schema.parseData(s.data()),n=c.toggler,i=a.trigger||"click",o=a.storage||"";t.on(i,function(){if(n)s.toggleClass(n);else if(a.toggler){var t=a.toggler.trim().split(/\s*,\s*/),c=r.trim().replace(/\s*,$/,"").split(/\s*,\s*/);c.forEach(function(a,r){n=t[r]||n,e(a).toggleClass(n)}),n=""}if(o&&window.localStorage){var i="true"===localStorage.getItem(o)?"false":"true";localStorage.setItem(o,i)}}),o&&window.localStorage&&a.init&&"true"===localStorage.getItem(o)&&(t.trigger(i),localStorage.setItem(o,"true"))})},schema.autoplay=function(t,a){var r=schema.events.autoplay.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=t.children("input[type=radio]"),s=t.find("div").last(),c=s.find("a,label"),n=c.first().attr("class"),i=+a.autoplay-1||5e3,o=c.length,h=1;window.setInterval(function(){var e=h%o,a=c.eq(e);t.find("a:hover,label:hover").length||(a.is("a")?(a.click(),window.location.hash=a.attr("href")):r.eq(e).prop("checked",!0),c.removeClass(n),a.addClass(n),h++)},i)})},schema.dismiss=function(t,a){var r=schema.events.dismiss.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=+a.dismiss-1||0;t.one("click",function(){t.parent().remove()}),r>0&&window.setTimeout(function(){t.click()},r)})},schema.extract=function(t,a){var r=schema.events.extract.selector,s=e(r).add(a&&a.selector);s.each(function(){var t=e(this),a=schema.parseData(t.data()),r=a.extract.split(/\s*\,\s*/);if(-1!==r.indexOf("url")){var s=/\b(https?|ftp)\:\/\/[^\s\"]+(\/|\b)/g;t.html(t.html().replace(s,function(e){return schema.format('<a href="${href}">${href}</a>',{href:e})}))}if(-1!==r.indexOf("emoji")&&a.emoji){var c=/(^|[^\w\"\'\`])(\:([\w\-]+)\:)/g;t.html(t.html().replace(c,function(e,r,s,c){var n='${sep}<img src="${src}" height=${height} alt="${alt}" title="${title}" />';return schema.format(n,{sep:r,src:a.emoji.replace(/\/*$/,"/")+c.replace(/\_/g,"-")+".svg",height:Math.round(1.4*+t.css("font-size").slice(0,-2)),alt:s,title:c})}))}})},schema.format=function(e,t){var a=String(e),r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&a.match(/\$\{[^\{\}]+\}/g).forEach(function(e,r){var s=e.replace(/^\$\{\s*(.+)\s*\}$/,"$1");t.hasOwnProperty(s)&&(a=a.replace(e,function(){return t[s]}))}),a},schema.parseURL=function(e){var t=document.createElement("a");return t.href=e.replace(/([^:])\/{2,}/g,"$1/").replace(/\+/g," "),{href:t.href,origin:t.origin,protocol:t.protocol,username:t.username,password:t.password,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname+t.search,pathname:t.pathname,segments:t.pathname.replace(/^\/+/,"").split("/"),search:t.search,query:function(){var e={},a=t.search.replace(/(^\?&?)|(&$)/g,"");return-1===a.indexOf("=")?a:(a.split(/&+/).forEach(function(t){var a=decodeURIComponent(t).split("="),r=a[0],s=a[1];e.hasOwnProperty(r)&&(s=[].concat(e[r],s)),e[r]=s}),e)}(),hash:t.hash,fragment:t.hash.replace(/^#/,"")}}}(jQuery),function(e){"use strict";schema.sprite=function(t,a){var r=schema.icons,s=schema.events.sprite.selector,c=e(s).add(a&&a.selector);c.each(function(){var t=e(this),a=schema.parseData(t.data()),s=a.icon||"unknown",c=r[s]||r.unknown;"string"==typeof c&&(c=r[c]);var n=a.width||c[0],i=a.height||c[1],o=a.path||c[2],h=a.color||c[3],l=a.colorEnabled;void 0===l&&h&&(l=!0);var d="http://www.w3.org/2000/svg",p=document.createElementNS(d,"svg");if(p.setAttribute("width",n),p.setAttribute("height",i),p.setAttribute("viewBox","0 0 "+n+" "+i),Array.isArray(o))o.forEach(function(e,t){var a=document.createElementNS(d,"path");l&&h&&a.setAttribute("fill",Array.isArray(h)?h[t]:h),a.setAttribute("d",e),p.appendChild(a)});else{var m=document.createElementNS(d,"path");l&&h&&m.setAttribute("fill",h),m.setAttribute("d",o),p.appendChild(m)}t.empty().append(p)})},schema.icons={unknown:[32,32,"M1 1h31v31h-31zM3 3v27h27v-27z"]}}(jQuery);