/*! UI Schema v0.3.1 | (c) 2015 Arxitics | MIT license */
if("undefined"==typeof jQuery)throw new Error("jQuery has not been loaded yet for context");var schema=jQuery.isPlainObject(schema)?schema:{};!function(e){"use strict";schema=e.extend(!0,{setup:{classPrefix:"ui",dataPrefix:"schema",autoLoad:!0,autoBind:".schema",autoTrigger:".schema"},events:{retrieve:{type:"retrieve",namespace:".options.data-api.schema",selector:"[data-schema-options]"},trim:{type:"remove",namespace:".white-space.text-node.schema",selector:".ui-space-collapse"},extract:{type:"create",namespace:".dom.data-api.schema",selector:"[data-schema-extract]"},validate:{type:"validate",namespace:".form-validate.form.data-api.schema",selector:"form[data-schema-validate]"},sprite:{type:"create",namespace:".icons.svg.data-api.schema",selector:"i[data-schema-icon]"}}},schema),e(function(){schema.setup.autoLoad&&schema.load&&schema.load()})}(jQuery),function(e){"use strict";schema.create=function(t){return this.setup=e.extend({},schema.setup,t),Object.create(schema)},schema.load=function(t,a){{var r=e.extend({},schema.setup,t),s=e.extend({},schema.events,a);r.dataPrefix}for(var c in s)if(s.hasOwnProperty(c)){var n=schema[c],i=s[c],o=i.delegation;if(i.hasOwnProperty("delegation")||(o=schema.delegate(i),i.delegation=o),o>1){var h=i.type+i.namespace;e(document).on(h,n),o>2&&e(document).trigger(h)}}},schema.delegate=function(e){var t=schema.setup,a=t.autoBind.split(" "),r=t.autoTrigger.split(" "),s=e.type+e.namespace,c=s.replace(/^\./,"").split("."),n=a.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==c.indexOf(e)})})?2:0;return n+=r.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==c.indexOf(e)})})?1:0},schema.retrieve=function(t,a){var r=schema.events.retrieve.selector,s=a&&a.selector,c=e(r).add(s);c.each(function(){var t=e(this),a=schema.parseData(t.data()),r=schema.parseOptions(a.schemaOptions);for(var s in r)r.hasOwnProperty(s)&&t.data(s,r[s])})},schema.parseData=function(e){var t={},a=schema.setup.dataPrefix,r=a&&a.length;for(var s in e)if(e.hasOwnProperty(s)){var c="schema-"+s.slice(r),n=e[s].trim();c=c.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),t[c]=""===n?!0:n}return t},schema.parseOptions=function(e){var t={},a={},r=schema.setup.dataPrefix,s=r?r+"-":"",c=Object.prototype.toString.call(e).slice(8,-1);if("Object"===c&&(t=e),"String"===c)try{t=JSON.parse(e)}catch(n){-1!==e.indexOf(":")&&(e=e.trim().replace(/\s*;$/,""),e.split(/\s*;\s*/).forEach(function(e){var a=e.split(/\s*:\s*/),r=a[0].toLowerCase(),s=a[1].replace(/\,/g," ").trim();-1!==s.search(/\s+/)&&(s=s.split(/\s+/)),t[r]=s}))}for(var i in t)if(t.hasOwnProperty(i)){var o=s+i;o=o.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),a[o]=t[i]}return a}}(jQuery),function(e){"use strict";schema.validate=function(t,a){var r=schema.events.validate.selector,s=a&&a.selector,c=e(r).add(s);c.each(function(){var t=e(this),a=schema.parseData(t.data()),r=a.schemaValidate,s="changed"===r;t.find(":input").one("change",function(){t.data("changed",!0)}),t.on("submit",function(a){var c=e(this),n=s?c.data("changed"):!0;n?(c.find("input, textarea").each(function(){var t=e(this),a=t.val().toString().trim();""===a&&t.prop("disabled",!0).data("disabled",!0)}),"once"===r&&t.find(":submit").prop("disabled",!0),c.submit()):void 0===n&&history.back(),a.preventDefault()}),t.on("reset",function(t){var a=e(this);return a.find("input, textarea").each(function(){var t=e(this);t.data("disabled")&&t.prop("disabled",!1).data("disabled",!1)}),!0})})}}(jQuery),function(e){"use strict";schema.trim=function(t,a){var r=schema.events.trim.selector,s=a&&a.selector,c=e(r).add(s);c.contents().filter(function(){return 3===this.nodeType}).remove()},schema.extract=function(t,a){var r=schema.events.extract.selector,s=a&&a.selector,c=e(r).add(s);c.each(function(){var t=e(this),a=schema.parseData(t.data()),r=a.schemaExtract;if("url"===r){var s=/\b(https?|ftp)\:\/\/[^\s\"]+(\/|\b)/g;t.html(t.html().replace(s,function(e){return'<a href="'+e+'">'+e+"</a>"}))}})},schema.parseURL=function(e){var t=document.createElement("a");return t.href=e.replace(/([^:])\/{2,}/g,"$1/").replace(/\+/g," "),{href:t.href,origin:t.origin,protocol:t.protocol,username:t.username,password:t.password,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname+t.search,pathname:t.pathname,segments:t.pathname.replace(/^\/+/,"").split("/"),search:t.search,query:function(){var e={},a=t.search.replace(/(^\?&?)|(&$)/g,"");return-1===a.indexOf("=")?a:(a.split(/&+/).forEach(function(t){var a=decodeURIComponent(t).split("="),r=a[0],s=a[1];e.hasOwnProperty(r)&&(s=[].concat(e[r],s)),e[r]=s}),e)}(),hash:t.hash,fragment:t.hash.replace(/^#/,"")}}}(jQuery),function(e){"use strict";schema.sprite=function(t,a){var r=schema.icons,s=schema.events.sprite.selector,c=a&&a.selector,n=a&&a.colorEnabled,i=e(s).add(c);i.each(function(){var t=e(this),a=schema.parseData(t.data()),s=a.schemaIcon||"unknown",c=r[s]||r.unknown;"string"==typeof c&&(c=r[c]);var i=a.schemaWidth||c[0],o=a.schemaHeight||c[1],h=a.schemaPath||c[2],p=a.schemaColor||c[3],u=a.schemaColorEnabled||n;void 0===u&&p&&(u=!0);var d="http://www.w3.org/2000/svg",m=document.createElementNS(d,"svg");if(m.setAttribute("width",i),m.setAttribute("height",o),m.setAttribute("viewBox","0 0 "+i+" "+o),Array.isArray(h))h.forEach(function(e,t){var a=document.createElementNS(d,"path");u&&p&&a.setAttribute("fill",Array.isArray(p)?p[t]:p),a.setAttribute("d",e),m.appendChild(a)});else{var l=document.createElementNS(d,"path");u&&p&&l.setAttribute("fill",p),l.setAttribute("d",h),m.appendChild(l)}t.empty().append(m).css({width:t.hasClass("ui-fixed-width")||t.hasClass("ui-icon-circle")?t.css("height"):t.css("height").slice(0,-2)*i/o})})},schema.icons={unknown:[32,32,"M27.429 7.429v17.143q0 2.125-1.509 3.634t-3.634 1.509h-17.143q-2.125 0-3.634-1.509t-1.509-3.634v-17.143q0-2.125 1.509-3.634t3.634-1.509h17.143q2.125 0 3.634 1.509t1.509 3.634z"]}}(jQuery);