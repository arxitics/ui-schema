/*! UI Schema v0.2.6 | (c) 2015 Arxitics | MIT license */
if("undefined"==typeof jQuery)throw new Error("jQuery has not been loaded yet for context");var schema={};!function(e){"use strict";schema.setup={classPrefix:"ui",dataPrefix:"schema",autoLoad:!0,autoBind:".schema",autoTrigger:".schema"},schema.events={retrieve:{type:"retrieve",namespace:".options.data-api.schema",selector:"[data-schema-options]"},trim:{type:"remove",namespace:".white-space.text-node.schema",selector:".ui-space-collapse"},validate:{type:"validate",namespace:".form-validate.form.data-api.schema",selector:"form[data-schema-validate]"},sprite:{type:"generate",namespace:".icons.svg.data-api.schema",selector:"[data-schema-icon]"}},e(function(){schema.setup.autoLoad&&schema.load&&schema.load()})}(jQuery),function(e){"use strict";schema.create=function(t){return this.setup=e.extend({},schema.setup,t),Object.create(schema)},schema.load=function(t,a){{var r=e.extend({},schema.setup,t),s=e.extend({},schema.events,a);r.dataPrefix}for(var n in s)if(s.hasOwnProperty(n)){var c=schema[n],i=s[n],o=i.delegation;if(i.hasOwnProperty("delegation")||(o=schema.delegate(i),i.delegation=o),o>1){var h=i.type+i.namespace;e(document).on(h,c),o>2&&e(document).trigger(h)}}},schema.delegate=function(e){var t=schema.setup,a=t.autoBind.split(" "),r=t.autoTrigger.split(" "),s=e.type+e.namespace,n=s.replace(/^\./,"").split("."),c=a.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==n.indexOf(e)})})?2:0;return c+=r.some(function(e){var t=e.replace(/^\./,"").split(".");return t.every(function(e){return-1!==n.indexOf(e)})})?1:0},schema.retrieve=function(t,a){var r=schema.events.retrieve.selector,s=a&&a.selector,n=e(r).add(s);n.each(function(){var t=e(this),a=schema.parseData(t.data()),r=schema.parseOptions(a.schemaOptions);for(var s in r)r.hasOwnProperty(s)&&t.data(s,r[s])})},schema.parseData=function(e){var t={},a=schema.setup.dataPrefix,r=a&&a.length;for(var s in e)if(e.hasOwnProperty(s)){var n="schema-"+s.slice(r),c=e[s].trim();n=n.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),t[n]=""===c?!0:c}return t},schema.parseOptions=function(e){var t={},a={},r=schema.setup.dataPrefix,s=r?r+"-":"",n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&(t=e),"String"===n)try{t=JSON.parse(e)}catch(c){-1!==e.indexOf(":")&&(e=e.trim().replace(/\s*;$/,""),e.split(/\s*;\s*/).forEach(function(e){var a=e.split(/\s*:\s*/),r=a[0].toLowerCase(),s=a[1].replace(/\,/g," ").trim();-1!==s.search(/\s+/)&&(s=s.split(/\s+/)),t[r]=s}))}for(var i in t)if(t.hasOwnProperty(i)){var o=s+i;o=o.replace(/\-\w/g,function(e){return e.charAt(1).toUpperCase()}),a[o]=t[i]}return a}}(jQuery),function(e){"use strict";schema.validate=function(t,a){var r=schema.events.validate.selector,s=a&&a.selector,n=e(r).add(s);n.each(function(){var t=e(this),a=schema.parseData(t.data()),r="changed"===a.schemaValidate;t.find(":input").one("change",function(){t.data("changed",!0)}),t.on("submit",function(s){var n=e(this),c=r?n.data("changed"):!0;c?(n.find("input, textarea").each(function(){var t=e(this),a=t.val().toString().trim();""===a&&t.prop("disabled",!0).data("disabled",!0)}),"once"===a.schemaValidate&&t.find(":submit").prop("disabled",!0),n.submit()):void 0===c&&history.back(),s.preventDefault()}),t.on("reset",function(){var t=e(this);return t.find("input, textarea").each(function(){var t=e(this);t.data("disabled")&&t.prop("disabled",!1).data("disabled",!1)}),!0})})}}(jQuery),function(e){"use strict";schema.trim=function(t,a){var r=schema.events.trim.selector,s=a&&a.selector,n=e(r).add(s);n.contents().filter(function(){return 3===this.nodeType}).remove()},schema.parseURL=function(e){var t=document.createElement("a");return t.href=e.replace(/([^:])\/{2,}/g,"$1/").replace(/\+/g," "),{href:t.href,origin:t.origin,protocol:t.protocol,username:t.username,password:t.password,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname+t.search,pathname:t.pathname,segments:t.pathname.replace(/^\/+/,"").split("/"),search:t.search,query:function(){var e={},a=t.search.replace(/(^\?&?)|(&$)/g,"");return-1===a.indexOf("=")?a:(a.split(/&+/).forEach(function(t){var a=decodeURIComponent(t).split("="),r=a[0],s=a[1];e.hasOwnProperty(r)&&(s=[].concat(e[r],s)),e[r]=s}),e)}(),hash:t.hash,fragment:t.hash.replace(/^#/,"")}}}(jQuery),function(e){"use strict";schema.sprite=function(t,a){var r=schema.icons,s=schema.events.sprite.selector,n=a&&a.selector,c=a&&a.colorEnabled,i=e(s).add(n);i.each(function(){var t=e(this),a=schema.parseData(t.data()),s=a.schemaIcon||"square",n=r[s]||r.square;"string"==typeof n&&(n=r[n]);var i=a.schemaWidth||n[0],o=a.schemaHeight||n[1],h=a.schemaPath||n[2],p=a.schemaColor||n[3],d=a.schemaColorEnabled||c;void 0===d&&p&&(d=!0);var u="http://www.w3.org/2000/svg",m=document.createElementNS(u,"svg");if(m.setAttribute("width",i),m.setAttribute("height",o),m.setAttribute("viewBox","0 0 "+i+" "+o),Array.isArray(h))h.forEach(function(e,t){var a=document.createElementNS(u,"path");d&&p&&a.setAttribute("fill",Array.isArray(p)?p[t]:p),a.setAttribute("d",e),m.appendChild(a)});else{var l=document.createElementNS(u,"path");d&&p&&l.setAttribute("fill",p),l.setAttribute("d",h),m.appendChild(l)}t.empty().append(m).css({width:t.hasClass("ui-fixed-width")||t.hasClass("ui-icon-circle")?t.css("height"):t.css("height").slice(0,-2)*i/o})})},schema.icons={}}(jQuery);